{
  "states": [
    "INIT",
    "INIT-REBOOT",
    "SELECTING",
    "REQUESTING",
    "BOUND",
    "RENEWING",
    "REBINDING",
    "REBOOTING"
  ],
  "initial_state": "INIT",
  "final_states": [
    "INIT",
    "BOUND"
  ],
  "transitions": [
    {
      "from": "INIT",
      "requisite": "Client starts initialization",
      "to": "SELECTING",
      "actions": [
        "Broadcast DHCPDISCOVER"
      ],
      "response": "None"
    },
    {
      "from": "INIT",
      "requisite": "Client remembers previous address and wishes to reuse it",
      "to": "REQUESTING",
      "actions": [
        "Broadcasts DHCPREQUEST with 'requested IP address' option"
      ],
      "response": "None"
    },
    {
      "from": "INIT-REBOOT",
      "requisite": "DHCPNAK",
      "to": "INIT-REBOOT",
      "actions": [
        "Restart"
      ],
      "response": null
    },
    {
      "from": "INIT-REBOOT",
      "requisite": "DHCPREQUEST",
      "to": "REBOOTING",
      "actions": [
        "Send DHCPREQUEST"
      ],
      "response": null
    },
    {
      "from": "REBOOTING",
      "requisite": "DHCPACK",
      "to": "BOUND",
      "actions": [
        "Record lease",
        "Set timers T1, T2"
      ],
      "response": null
    },
    {
      "from": "SELECTING",
      "requisite": "Receives DHCPOFFER",
      "to": "REQUESTING",
      "actions": [
        "Selects a server",
        "Broadcast DHCPREQUEST"
      ],
      "response": "None"
    },
    {
      "from": "SELECTING",
      "requisite": "DHCPOFFER",
      "to": "SELECTING",
      "actions": [
        "Collect replies"
      ],
      "response": null
    },
    {
      "from": "SELECTING",
      "requisite": "DHCPOFFER (not accept.)",
      "to": "SELECTING",
      "actions": [
        "Send DHCPDECLINE"
      ],
      "response": null
    },
    {
      "from": "SELECTING",
      "requisite": "Select offer",
      "to": "REQUESTING",
      "actions": [
        "Select offer",
        "Send DHCPREQUEST"
      ],
      "response": null
    },
    {
      "from": "REQUESTING",
      "requisite": "Receives DHCPACK",
      "to": "BOUND",
      "actions": [
        "Configures with parameters",
        "Record lease",
        "Set timers T1, T2"
      ],
      "response": "None"
    },
    {
      "from": "REQUESTING",
      "requisite": "Receives DHCPNAK",
      "to": "INIT",
      "actions": [
        "Restarts initialization"
      ],
      "response": "None"
    },
    {
      "from": "REQUESTING",
      "requisite": "Timeout (no DHCPACK or DHCPNAK)",
      "to": "INIT",
      "actions": [
        "Retransmits DHCPREQUEST (up to 4 times)",
        "Restarts initialization if still no response"
      ],
      "response": "None"
    },
    {
      "from": "REQUESTING",
      "requisite": "DHCPNAK, Lease expired",
      "to": "INIT",
      "actions": [
        "Halt network"
      ],
      "response": null
    },
    {
      "from": "BOUND",
      "requisite": "Lease expires or needs to relinquish lease",
      "to": "INIT",
      "actions": [
        "Sends DHCPRELEASE"
      ],
      "response": "None"
    },
    {
      "from": "BOUND",
      "requisite": "T1 expires",
      "to": "RENEWING",
      "actions": [
        "Send DHCPREQUEST to leasing server"
      ],
      "response": null
    },
    {
      "from": "BOUND",
      "requisite": "DHCPOFFER, DHCPACK, DHCPNAK",
      "to": "BOUND",
      "actions": [
        "Discard"
      ],
      "response": null
    },
    {
      "from": "RENEWING",
      "requisite": "DHCPACK",
      "to": "BOUND",
      "actions": [
        "Record lease",
        "Set timers T1, T2"
      ],
      "response": null
    },
    {
      "from": "RENEWING",
      "requisite": "T2 expires",
      "to": "REBINDING",
      "actions": [
        "Broadcast DHCPREQUEST"
      ],
      "response": null
    },
    {
      "from": "REBINDING",
      "requisite": "DHCPACK",
      "to": "BOUND",
      "actions": [
        "Record lease",
        "Set timers T1, T2"
      ],
      "response": null
    },
    {
      "from": "REBINDING",
      "requisite": "DHCPNAK",
      "to": "INIT",
      "actions": [
        "Halt network"
      ],
      "response": null
    },
    {
      "from": "BOUND",
      "requisite": "Lease expires",
      "to": "INIT",
      "actions": [
        "Halt network"
      ],
      "response": null
    }
  ]
}