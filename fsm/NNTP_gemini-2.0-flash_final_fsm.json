{
  "states": [
    "Initial",
    "Capabilities",
    "ReaderMode",
    "Quit",
    "GroupSelected",
    "ArticleSelected",
    "PostingAllowed",
    "PostingProhibited",
    "IHAVE_Initial",
    "NewsgroupSelected",
    "OverviewInformationFollows",
    "HeadersFollow"
  ],
  "initial_state": "Initial",
  "final_states": [
    "Quit",
    "PostingProhibited",
    "OverviewInformationFollows",
    "HeadersFollow"
  ],
  "transitions": [
    {
      "from": "Initial",
      "requisite": "Initial Connection",
      "to": "Initial",
      "actions": [],
      "response": "200 Service available, posting allowed"
    },
    {
      "from": "Initial",
      "requisite": "Initial Connection",
      "to": "Initial",
      "actions": [],
      "response": "201 Service available, posting prohibited"
    },
    {
      "from": "Initial",
      "requisite": "Initial Connection",
      "to": "Initial",
      "actions": [
        "Close Connection"
      ],
      "response": "400 Service temporarily unavailable"
    },
    {
      "from": "Initial",
      "requisite": "Initial Connection",
      "to": "Initial",
      "actions": [
        "Close Connection"
      ],
      "response": "502 Service permanently unavailable"
    },
    {
      "from": "Initial",
      "requisite": "Client sends CAPABILITIES",
      "to": "Capabilities",
      "actions": [],
      "response": "101 Capability list follows (multi-line)"
    },
    {
      "from": "Initial",
      "requisite": "Client sends MODE READER and server is mode-switching or advertises READER",
      "to": "ReaderMode",
      "actions": [],
      "response": "200 Posting allowed"
    },
    {
      "from": "Initial",
      "requisite": "Client sends MODE READER and server is mode-switching or advertises READER",
      "to": "ReaderMode",
      "actions": [],
      "response": "201 Posting prohibited"
    },
    {
      "from": "Initial",
      "requisite": "Client sends MODE READER and server does not advertise READER",
      "to": "Initial",
      "actions": [
        "Close Connection"
      ],
      "response": "502 Reading service permanently unavailable"
    },
    {
      "from": "Initial",
      "requisite": "Client sends QUIT",
      "to": "Quit",
      "actions": [
        "Close Connection"
      ],
      "response": "205 Connection closing"
    },
    {
      "from": "Capabilities",
      "requisite": "Client sends CAPABILITIES",
      "to": "Capabilities",
      "actions": [],
      "response": "101 Capability list follows (multi-line)"
    },
    {
      "from": "Capabilities",
      "requisite": "Client sends MODE READER and server is mode-switching or advertises READER",
      "to": "ReaderMode",
      "actions": [],
      "response": "200 Posting allowed"
    },
    {
      "from": "Capabilities",
      "requisite": "Client sends MODE READER and server is mode-switching or advertises READER",
      "to": "ReaderMode",
      "actions": [],
      "response": "201 Posting prohibited"
    },
    {
      "from": "Capabilities",
      "requisite": "Client sends MODE READER and server does not advertise READER",
      "to": "Capabilities",
      "actions": [
        "Close Connection"
      ],
      "response": "502 Reading service permanently unavailable"
    },
    {
      "from": "Capabilities",
      "requisite": "Client sends QUIT",
      "to": "Quit",
      "actions": [
        "Close Connection"
      ],
      "response": "205 Connection closing"
    },
    {
      "from": "ReaderMode",
      "requisite": "Client sends CAPABILITIES",
      "to": "Capabilities",
      "actions": [],
      "response": "101 Capability list follows (multi-line)"
    },
    {
      "from": "ReaderMode",
      "requisite": "Client sends MODE READER and server is mode-switching or advertises READER",
      "to": "ReaderMode",
      "actions": [],
      "response": "200 Posting allowed"
    },
    {
      "from": "ReaderMode",
      "requisite": "Client sends MODE READER and server is mode-switching or advertises READER",
      "to": "ReaderMode",
      "actions": [],
      "response": "201 Posting prohibited"
    },
    {
      "from": "ReaderMode",
      "requisite": "Client sends MODE READER and server does not advertise READER",
      "to": "ReaderMode",
      "actions": [
        "Close Connection"
      ],
      "response": "502 Reading service permanently unavailable"
    },
    {
      "from": "ReaderMode",
      "requisite": "Client sends QUIT",
      "to": "Quit",
      "actions": [
        "Close Connection"
      ],
      "response": "205 Connection closing"
    },
    {
      "from": "Initial",
      "requisite": "GROUP command",
      "to": "GroupSelected",
      "actions": [
        "Set currently selected newsgroup",
        "Set current article number to first article in group or invalid if empty"
      ],
      "response": "211 number low high group (Group successfully selected) or 411 (No such newsgroup)"
    },
    {
      "from": "Initial",
      "requisite": "LISTGROUP command with group specified",
      "to": "GroupSelected",
      "actions": [
        "Set currently selected newsgroup",
        "Set current article number to first article in group, if any"
      ],
      "response": "211 number low high group Article numbers follow (multi-line) or 411 (No such newsgroup)"
    },
    {
      "from": "Initial",
      "requisite": "LISTGROUP command without group specified",
      "to": "Initial",
      "actions": [],
      "response": "412 No newsgroup selected"
    },
    {
      "from": "GroupSelected",
      "requisite": "NEXT command",
      "to": "ArticleSelected",
      "actions": [
        "Set current article number to next article in group"
      ],
      "response": "223 n message-id (Article found) or 421 (No next article in this group) or 420 (Current article number is invalid)"
    },
    {
      "from": "GroupSelected",
      "requisite": "LAST command",
      "to": "ArticleSelected",
      "actions": [
        "Set current article number to previous article in group"
      ],
      "response": "223 n message-id (Article found) or 422 (No previous article in this group) or 420 (Current article number is invalid)"
    },
    {
      "from": "GroupSelected",
      "requisite": "ARTICLE command with number",
      "to": "ArticleSelected",
      "actions": [
        "Set current article number to specified number"
      ],
      "response": "220 n message-id Article follows (multi-line) or 423 (No article with that number)"
    },
    {
      "from": "GroupSelected",
      "requisite": "ARTICLE command without number",
      "to": "ArticleSelected",
      "actions": [],
      "response": "220 n message-id Article follows (multi-line) or 420 (Current article number is invalid)"
    },
    {
      "from": "GroupSelected",
      "requisite": "HEAD command with number",
      "to": "ArticleSelected",
      "actions": [
        "Set current article number to specified number"
      ],
      "response": "221 n message-id Headers follow (multi-line) or 423 (No article with that number)"
    },
    {
      "from": "GroupSelected",
      "requisite": "HEAD command without number",
      "to": "ArticleSelected",
      "actions": [],
      "response": "221 n message-id Headers follow (multi-line) or 420 (Current article number is invalid)"
    },
    {
      "from": "GroupSelected",
      "requisite": "BODY command with number",
      "to": "ArticleSelected",
      "actions": [
        "Set current article number to specified number"
      ],
      "response": "222 n message-id Body follows (multi-line) or 423 (No article with that number)"
    },
    {
      "from": "GroupSelected",
      "requisite": "BODY command without number",
      "to": "ArticleSelected",
      "actions": [],
      "response": "222 n message-id Body follows (multi-line) or 420 (Current article number is invalid)"
    },
    {
      "from": "GroupSelected",
      "requisite": "STAT command with number",
      "to": "ArticleSelected",
      "actions": [
        "Set current article number to specified number"
      ],
      "response": "223 n message-id Article exists or 423 (No article with that number)"
    },
    {
      "from": "GroupSelected",
      "requisite": "STAT command without number",
      "to": "ArticleSelected",
      "actions": [],
      "response": "223 n message-id Article exists or 420 (Current article number is invalid)"
    },
    {
      "from": "Initial",
      "requisite": "POST command and posting is allowed",
      "to": "PostingAllowed",
      "actions": [],
      "response": "340 Send article to be posted"
    },
    {
      "from": "Initial",
      "requisite": "POST command and posting is not allowed",
      "to": "PostingProhibited",
      "actions": [],
      "response": "440 Posting not permitted"
    },
    {
      "from": "PostingAllowed",
      "requisite": "Article sent",
      "to": "Initial",
      "actions": [],
      "response": "240 Article received OK or 441 Posting failed"
    },
    {
      "from": "Initial",
      "requisite": "IHAVE command",
      "to": "IHAVE_Initial",
      "actions": [],
      "response": "335 Send article to be transferred or 435 Article not wanted or 436 Transfer not possible; try again later"
    },
    {
      "from": "IHAVE_Initial",
      "requisite": "Article sent",
      "to": "Initial",
      "actions": [],
      "response": "235 Article transferred OK or 436 Transfer failed; try again later or 437 Transfer rejected; do not retry"
    },
    {
      "from": "Initial",
      "requisite": "ARTICLE command with message-id",
      "to": "Initial",
      "actions": [],
      "response": "220 0|n message-id Article follows (multi-line) or 430 No article with that message-id"
    },
    {
      "from": "Initial",
      "requisite": "HEAD command with message-id",
      "to": "Initial",
      "actions": [],
      "response": "221 0|n message-id Headers follow (multi-line) or 430 No article with that message-id"
    },
    {
      "from": "Initial",
      "requisite": "BODY command with message-id",
      "to": "Initial",
      "actions": [],
      "response": "222 0|n message-id Body follows (multi-line) or 430 No article with that message-id"
    },
    {
      "from": "Initial",
      "requisite": "STAT command with message-id",
      "to": "Initial",
      "actions": [],
      "response": "223 0|n message-id Article exists or 430 No article with that message-id"
    },
    {
      "from": "Initial",
      "requisite": "OVER message-id",
      "to": "OverviewInformationFollows",
      "actions": [],
      "response": "224 Overview information follows (multi-line)"
    },
    {
      "from": "Initial",
      "requisite": "OVER message-id (no such article)",
      "to": "Initial",
      "actions": [],
      "response": "430 No article with that message-id"
    },
    {
      "from": "Initial",
      "requisite": "OVER range",
      "to": "NewsgroupSelected",
      "actions": [],
      "response": null
    },
    {
      "from": "Initial",
      "requisite": "OVER (no newsgroup selected)",
      "to": "Initial",
      "actions": [],
      "response": "412 No newsgroup selected"
    },
    {
      "from": "Initial",
      "requisite": "OVER",
      "to": "NewsgroupSelected",
      "actions": [],
      "response": null
    },
    {
      "from": "NewsgroupSelected",
      "requisite": "Valid newsgroup, OVER range",
      "to": "OverviewInformationFollows",
      "actions": [],
      "response": "224 Overview information follows (multi-line)"
    },
    {
      "from": "NewsgroupSelected",
      "requisite": "Valid newsgroup, OVER range (no articles in range)",
      "to": "NewsgroupSelected",
      "actions": [],
      "response": "423 No articles in that range"
    },
    {
      "from": "NewsgroupSelected",
      "requisite": "Valid newsgroup, OVER",
      "to": "OverviewInformationFollows",
      "actions": [],
      "response": "224 Overview information follows (multi-line)"
    },
    {
      "from": "NewsgroupSelected",
      "requisite": "Valid newsgroup, OVER (current article invalid)",
      "to": "NewsgroupSelected",
      "actions": [],
      "response": "420 Current article number is invalid"
    },
    {
      "from": "Initial",
      "requisite": "HDR field message-id",
      "to": "HeadersFollow",
      "actions": [],
      "response": "225 Headers follow (multi-line)"
    },
    {
      "from": "Initial",
      "requisite": "HDR field message-id (no such article)",
      "to": "Initial",
      "actions": [],
      "response": "430 No article with that message-id"
    },
    {
      "from": "Initial",
      "requisite": "HDR field range",
      "to": "NewsgroupSelected",
      "actions": [],
      "response": null
    },
    {
      "from": "Initial",
      "requisite": "HDR field (no newsgroup selected)",
      "to": "Initial",
      "actions": [],
      "response": "412 No newsgroup selected"
    },
    {
      "from": "Initial",
      "requisite": "HDR field",
      "to": "NewsgroupSelected",
      "actions": [],
      "response": null
    },
    {
      "from": "NewsgroupSelected",
      "requisite": "Valid newsgroup, HDR field range",
      "to": "HeadersFollow",
      "actions": [],
      "response": "225 Headers follow (multi-line)"
    },
    {
      "from": "NewsgroupSelected",
      "requisite": "Valid newsgroup, HDR field range (no articles in range)",
      "to": "NewsgroupSelected",
      "actions": [],
      "response": "423 No articles in that range"
    },
    {
      "from": "NewsgroupSelected",
      "requisite": "Valid newsgroup, HDR field",
      "to": "HeadersFollow",
      "actions": [],
      "response": "225 Headers follow (multi-line)"
    },
    {
      "from": "NewsgroupSelected",
      "requisite": "Valid newsgroup, HDR field (current article invalid)",
      "to": "NewsgroupSelected",
      "actions": [],
      "response": "420 Current article number is invalid"
    },
    {
      "from": "Initial",
      "requisite": "HDR field (HDR not permitted)",
      "to": "Initial",
      "actions": [],
      "response": "503 HDR not permitted on Content-Type"
    }
  ]
}