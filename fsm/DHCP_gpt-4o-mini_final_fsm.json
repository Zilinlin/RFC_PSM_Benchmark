{
  "states": [
    "INIT",
    "INIT-REBOOT",
    "SELECTING",
    "REQUESTING",
    "BOOTREQUEST",
    "DHCPOFFER",
    "DHCPACK",
    "BOUND",
    "RENEWING",
    "RENEW",
    "REBINDING",
    "REBOOTING"
  ],
  "initial_state": "INIT",
  "final_states": [
    "INIT-REBOOT",
    "INIT",
    "REBINDING"
  ],
  "transitions": [
    {
      "from": "INIT",
      "requisite": "DHCPDISCOVER sent",
      "to": "SELECTING",
      "actions": [
        "broadcast DHCPDISCOVER"
      ],
      "response": "await DHCPOFFER"
    },
    {
      "from": "INIT-REBOOT",
      "requisite": "DHCPACK received",
      "to": "BOUND",
      "actions": [
        "Record lease, set timers T1, T2"
      ],
      "response": "Client is initialized"
    },
    {
      "from": "INIT-REBOOT",
      "requisite": "DHCPNAK received",
      "to": "INIT-REBOOT",
      "actions": [
        "Restart"
      ],
      "response": "Discard offer"
    },
    {
      "from": "INIT-REBOOT",
      "requisite": "Send DHCPREQUEST",
      "to": "REBOOTING",
      "actions": [],
      "response": "Requesting lease"
    },
    {
      "from": "REBOOTING",
      "requisite": "DHCPOFFER received",
      "to": "SELECTING",
      "actions": [
        "Collect replies"
      ],
      "response": "Select offer"
    },
    {
      "from": "SELECTING",
      "requisite": "DHCPOFFER received",
      "to": "REQUESTING",
      "actions": [
        "select DHCPOFFER",
        "broadcast DHCPREQUEST"
      ],
      "response": "await DHCPACK or DHCPNAK"
    },
    {
      "from": "REQUESTING",
      "requisite": "DHCPACK received",
      "to": "BOUND",
      "actions": [
        "configure parameters",
        "Record lease, set timers T1, T2"
      ],
      "response": "client is configured"
    },
    {
      "from": "REQUESTING",
      "requisite": "DHCPNAK received",
      "to": "INIT-REBOOT",
      "actions": [
        "Halt network",
        "restart configuration process"
      ],
      "response": "Lease expired"
    },
    {
      "from": "BOOTREQUEST",
      "requisite": "client sends request",
      "to": "DHCPOFFER",
      "actions": [
        "send DHCPOFFER"
      ],
      "response": "server offers IP address"
    },
    {
      "from": "DHCPOFFER",
      "requisite": "client accepts offer",
      "to": "DHCPACK",
      "actions": [
        "send DHCPREQUEST"
      ],
      "response": "server acknowledges"
    },
    {
      "from": "BOUND",
      "requisite": "lease expires",
      "to": "INIT",
      "actions": [
        "release address"
      ],
      "response": "restart configuration process"
    },
    {
      "from": "BOUND",
      "requisite": "DHCPRELEASE sent",
      "to": "INIT",
      "actions": [
        "relinquish lease"
      ],
      "response": "address released"
    },
    {
      "from": "BOUND",
      "requisite": "need to renew lease",
      "to": "RENEWING",
      "actions": [
        "send DHCPREQUEST"
      ],
      "response": "await DHCPACK or DHCPNAK"
    },
    {
      "from": "RENEWING",
      "requisite": "DHCPACK received",
      "to": "BOUND",
      "actions": [
        "Record lease, set timers T1, T2"
      ],
      "response": "Lease renewed"
    },
    {
      "from": "RENEWING",
      "requisite": "DHCPNAK received",
      "to": "INIT",
      "actions": [
        "restart configuration process"
      ],
      "response": "request new address"
    },
    {
      "from": "BOUND",
      "requisite": "need to rebind lease",
      "to": "REBINDING",
      "actions": [
        "send DHCPREQUEST"
      ],
      "response": "await DHCPACK or DHCPNAK"
    },
    {
      "from": "REBINDING",
      "requisite": "DHCPACK received",
      "to": "BOUND",
      "actions": [
        "Record lease, set timers T1, T2"
      ],
      "response": "Lease reacquired"
    },
    {
      "from": "REBINDING",
      "requisite": "No response",
      "to": "INIT-REBOOT",
      "actions": [
        "Stop network processing"
      ],
      "response": "Lease expired"
    }
  ]
}