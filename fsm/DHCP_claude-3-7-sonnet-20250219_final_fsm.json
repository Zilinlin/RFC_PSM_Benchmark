{
  "states": [
    "INIT",
    "SELECTING",
    "REQUESTING",
    "BOUND",
    "RENEWING",
    "REBINDING",
    "INIT-REBOOT",
    "REBOOTING"
  ],
  "initial_state": "INIT",
  "final_states": [
    "INIT"
  ],
  "transitions": [
    {
      "from": "INIT",
      "requisite": "Client begins initialization",
      "to": "SELECTING",
      "actions": [
        "Client broadcasts DHCPDISCOVER"
      ],
      "response": "Servers respond with DHCPOFFER"
    },
    {
      "from": "INIT",
      "requisite": "-",
      "to": "SELECTING",
      "actions": [
        "Send DHCPDISCOVER"
      ],
      "response": null
    },
    {
      "from": "SELECTING",
      "requisite": "Client receives one or more DHCPOFFERs",
      "to": "REQUESTING",
      "actions": [
        "Client selects server",
        "Client broadcasts DHCPREQUEST"
      ],
      "response": "Selected server responds with DHCPACK or DHCPNAK"
    },
    {
      "from": "SELECTING",
      "requisite": "DHCPOFFER received",
      "to": "REQUESTING",
      "actions": [
        "Select offer",
        "Send DHCPREQUEST"
      ],
      "response": null
    },
    {
      "from": "SELECTING",
      "requisite": "DHCPOFFER received",
      "to": "SELECTING",
      "actions": [
        "Collect replies"
      ],
      "response": null
    },
    {
      "from": "REQUESTING",
      "requisite": "Client receives DHCPACK",
      "to": "BOUND",
      "actions": [
        "Client performs final check",
        "Client notes lease duration"
      ],
      "response": "Client is configured"
    },
    {
      "from": "REQUESTING",
      "requisite": "DHCPACK received",
      "to": "BOUND",
      "actions": [
        "Record lease",
        "Set timers T1, T2"
      ],
      "response": null
    },
    {
      "from": "REQUESTING",
      "requisite": "Client receives DHCPNAK",
      "to": "INIT",
      "actions": [
        "Client restarts configuration process"
      ],
      "response": "Client must request new address"
    },
    {
      "from": "REQUESTING",
      "requisite": "DHCPNAK received",
      "to": "INIT",
      "actions": [
        "Discard offer"
      ],
      "response": null
    },
    {
      "from": "REQUESTING",
      "requisite": "Client detects address already in use",
      "to": "INIT",
      "actions": [
        "Client sends DHCPDECLINE",
        "Client restarts configuration process"
      ],
      "response": "Client must request new address"
    },
    {
      "from": "INIT-REBOOT",
      "requisite": "-",
      "to": "REBOOTING",
      "actions": [
        "Send DHCPREQUEST"
      ],
      "response": null
    },
    {
      "from": "REBOOTING",
      "requisite": "DHCPACK received",
      "to": "BOUND",
      "actions": [
        "Record lease",
        "Set timers T1, T2"
      ],
      "response": null
    },
    {
      "from": "REBOOTING",
      "requisite": "DHCPNAK received",
      "to": "INIT",
      "actions": [
        "Restart"
      ],
      "response": null
    },
    {
      "from": "BOUND",
      "requisite": "Client chooses to relinquish lease",
      "to": "INIT",
      "actions": [
        "Client sends DHCPRELEASE"
      ],
      "response": "Server discards lease"
    },
    {
      "from": "BOUND",
      "requisite": "T1 expires",
      "to": "RENEWING",
      "actions": [
        "Send DHCPREQUEST to leasing server"
      ],
      "response": null
    },
    {
      "from": "BOUND",
      "requisite": "DHCPOFFER, DHCPACK, DHCPNAK received",
      "to": "BOUND",
      "actions": [
        "Discard"
      ],
      "response": null
    },
    {
      "from": "RENEWING",
      "requisite": "DHCPACK received",
      "to": "BOUND",
      "actions": [
        "Record lease",
        "Set timers T1, T2"
      ],
      "response": null
    },
    {
      "from": "RENEWING",
      "requisite": "T2 expires",
      "to": "REBINDING",
      "actions": [
        "Broadcast DHCPREQUEST"
      ],
      "response": null
    },
    {
      "from": "RENEWING",
      "requisite": "DHCPNAK received",
      "to": "INIT",
      "actions": [
        "Halt network"
      ],
      "response": null
    },
    {
      "from": "REBINDING",
      "requisite": "DHCPACK received",
      "to": "BOUND",
      "actions": [
        "Record lease",
        "Set timers T1, T2"
      ],
      "response": null
    },
    {
      "from": "REBINDING",
      "requisite": "Lease expired",
      "to": "INIT",
      "actions": [
        "Halt network"
      ],
      "response": null
    },
    {
      "from": "REBINDING",
      "requisite": "DHCPNAK received",
      "to": "INIT",
      "actions": [
        "Halt network"
      ],
      "response": null
    }
  ]
}