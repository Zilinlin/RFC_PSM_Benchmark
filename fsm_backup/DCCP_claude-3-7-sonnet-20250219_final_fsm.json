{
  "states": [
    "CLOSED",
    "LISTEN",
    "REQUEST",
    "RESPOND",
    "PARTOPEN",
    "OPEN",
    "CLOSEREQ",
    "CLOSING",
    "TIMEWAIT",
    "STABLE",
    "CHANGING",
    "UNSTABLE"
  ],
  "initial_state": "CLOSED",
  "final_states": [],
  "transitions": [
    {
      "from": "CLOSED",
      "requisite": "passive open",
      "to": "LISTEN",
      "actions": [],
      "response": ""
    },
    {
      "from": "CLOSED",
      "requisite": "active open",
      "to": "REQUEST",
      "actions": [
        "send Request"
      ],
      "response": ""
    },
    {
      "from": "LISTEN",
      "requisite": "receive Request",
      "to": "RESPOND",
      "actions": [
        "send Response"
      ],
      "response": ""
    },
    {
      "from": "REQUEST",
      "requisite": "receive Response",
      "to": "PARTOPEN",
      "actions": [
        "send Ack"
      ],
      "response": ""
    },
    {
      "from": "RESPOND",
      "requisite": "receive Ack/DataAck",
      "to": "OPEN",
      "actions": [],
      "response": ""
    },
    {
      "from": "PARTOPEN",
      "requisite": "receive packet (not Response/Sync)",
      "to": "OPEN",
      "actions": [],
      "response": ""
    },
    {
      "from": "OPEN",
      "requisite": "server active close",
      "to": "CLOSEREQ",
      "actions": [
        "send CloseReq"
      ],
      "response": ""
    },
    {
      "from": "OPEN",
      "requisite": "active close or receive CloseReq",
      "to": "CLOSING",
      "actions": [
        "send Close"
      ],
      "response": ""
    },
    {
      "from": "OPEN",
      "requisite": "receive Close",
      "to": "CLOSED",
      "actions": [
        "send Reset"
      ],
      "response": ""
    },
    {
      "from": "CLOSEREQ",
      "requisite": "receive Close",
      "to": "CLOSED",
      "actions": [
        "send Reset"
      ],
      "response": ""
    },
    {
      "from": "CLOSING",
      "requisite": "receive Reset",
      "to": "TIMEWAIT",
      "actions": [],
      "response": ""
    },
    {
      "from": "TIMEWAIT",
      "requisite": "2MSL timer expires",
      "to": "CLOSED",
      "actions": [],
      "response": ""
    },
    {
      "from": "*",
      "requisite": "receive Reset",
      "to": "TIMEWAIT",
      "actions": [],
      "response": ""
    },
    {
      "from": "STABLE",
      "requisite": "application/protocol event",
      "to": "CHANGING",
      "actions": [
        "send Change L"
      ],
      "response": ""
    },
    {
      "from": "STABLE",
      "requisite": "receive Change R",
      "to": "STABLE",
      "actions": [
        "calculate new value",
        "send Confirm L"
      ],
      "response": ""
    },
    {
      "from": "CHANGING",
      "requisite": "receive Confirm R",
      "to": "STABLE",
      "actions": [
        "accept value"
      ],
      "response": ""
    },
    {
      "from": "CHANGING",
      "requisite": "receive empty Confirm R",
      "to": "STABLE",
      "actions": [
        "revert to old value"
      ],
      "response": ""
    },
    {
      "from": "CHANGING",
      "requisite": "receive Change R",
      "to": "STABLE",
      "actions": [
        "calculate new value",
        "send Confirm L"
      ],
      "response": ""
    },
    {
      "from": "CHANGING",
      "requisite": "timeout/receive non-ack",
      "to": "CHANGING",
      "actions": [
        "send Change L"
      ],
      "response": ""
    },
    {
      "from": "CHANGING",
      "requisite": "preference list changes",
      "to": "UNSTABLE",
      "actions": [],
      "response": ""
    },
    {
      "from": "UNSTABLE",
      "requisite": "send Change L",
      "to": "CHANGING",
      "actions": [],
      "response": ""
    },
    {
      "from": "UNSTABLE",
      "requisite": "receive Confirm R or Change R",
      "to": "UNSTABLE",
      "actions": [
        "ignore"
      ],
      "response": ""
    }
  ]
}