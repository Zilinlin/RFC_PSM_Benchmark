{
  "states": [
    "Session Established",
    "Media Delivery Control",
    "Session Maintenance",
    "Session Termination",
    "Idle",
    "Request Sent",
    "Response Received",
    "Connection Closed",
    "Overload",
    "Init",
    "Ready",
    "Play",
    "Client",
    "Server",
    "Proxy",
    "Cache Valid",
    "Cache Stale",
    "Cache Invalid",
    "RTP/AVP/UDP",
    "RTP/AVPF/UDP",
    "RTP/SAVP/UDP",
    "RTP/SAVPF/UDP",
    "RTP over TCP",
    "Interleaved RTP over TCP",
    "RTP over Independent TCP",
    "Aggregate Control Available",
    "Aggregate Control Not Available",
    "RTSP External SDP Delivery"
  ],
  "initial_state": "Session Established",
  "final_states": [
    "Session Termination",
    "Connection Closed",
    "Cache Invalid",
    "RTP over Independent TCP",
    "RTSP External SDP Delivery"
  ],
  "transitions": [
    {
      "from": "Session Established",
      "requisite": "SETUP request received",
      "to": "Media Delivery Control",
      "actions": [
        "Create RTSP session",
        "Store parameters"
      ],
      "response": "SETUP response with session identifier"
    },
    {
      "from": "Media Delivery Control",
      "requisite": "PLAY request received",
      "to": "Media Delivery Control",
      "actions": [
        "Start media playback"
      ],
      "response": "PLAY response with media delivery information"
    },
    {
      "from": "Media Delivery Control",
      "requisite": "PAUSE request received",
      "to": "Media Delivery Control",
      "actions": [
        "Suspend media playback"
      ],
      "response": "PAUSE response with current playback position"
    },
    {
      "from": "Media Delivery Control",
      "requisite": "TEARDOWN request received",
      "to": "Session Termination",
      "actions": [
        "Terminate session"
      ],
      "response": "TEARDOWN response confirming session termination"
    },
    {
      "from": "Session Maintenance",
      "requisite": "No liveness detected",
      "to": "Session Termination",
      "actions": [
        "Terminate session context"
      ],
      "response": "Session termination notification"
    },
    {
      "from": "Idle",
      "requisite": "Client sends request",
      "to": "Request Sent",
      "actions": [
        "Open connection"
      ],
      "response": "Request is sent to server"
    },
    {
      "from": "Request Sent",
      "requisite": "Response received from server",
      "to": "Response Received",
      "actions": [
        "Process response"
      ],
      "response": "Response is processed"
    },
    {
      "from": "Response Received",
      "requisite": "No outstanding requests",
      "to": "Idle",
      "actions": [
        "Close connection"
      ],
      "response": "Connection is closed"
    },
    {
      "from": "Request Sent",
      "requisite": "Server overload",
      "to": "Overload",
      "actions": [
        "Send 503 response"
      ],
      "response": "Notify client of overload"
    },
    {
      "from": "Overload",
      "requisite": "Retry after timeout",
      "to": "Idle",
      "actions": [
        "Retry request"
      ],
      "response": "Request is retried"
    },
    {
      "from": "Init",
      "requisite": "SETUP request",
      "to": "Ready",
      "actions": [
        "initialize session"
      ],
      "response": "200 OK"
    },
    {
      "from": "Ready",
      "requisite": "PLAY request",
      "to": "Play",
      "actions": [
        "start media delivery"
      ],
      "response": "200 OK"
    },
    {
      "from": "Play",
      "requisite": "PAUSE request",
      "to": "Ready",
      "actions": [
        "halt media delivery"
      ],
      "response": "200 OK"
    },
    {
      "from": "Play",
      "requisite": "TEARDOWN request",
      "to": "Init",
      "actions": [
        "destroy session"
      ],
      "response": "200 OK"
    },
    {
      "from": "Client",
      "requisite": "SETUP request",
      "to": "Server",
      "actions": [
        "Send SETUP request with Transport header"
      ],
      "response": "200 OK with Transport parameters"
    },
    {
      "from": "Server",
      "requisite": "PLAY request",
      "to": "Client",
      "actions": [
        "Send PLAY response with RTP-Info"
      ],
      "response": "200 OK with RTP-Info and media data"
    },
    {
      "from": "Server",
      "requisite": "Send RTP data",
      "to": "Client",
      "actions": [
        "Send interleaved RTP packet"
      ],
      "response": "RTP data sent"
    },
    {
      "from": "Server",
      "requisite": "Send RTCP data",
      "to": "Client",
      "actions": [
        "Send interleaved RTCP packet"
      ],
      "response": "RTCP data sent"
    },
    {
      "from": "Cache Stale",
      "requisite": "Check with origin server",
      "to": "Cache Valid",
      "actions": [
        "Validate cache entry"
      ],
      "response": "304 Not Modified"
    },
    {
      "from": "Cache Stale",
      "requisite": "Cache entry is invalid",
      "to": "Cache Invalid",
      "actions": [
        "Invalidate cache entry"
      ],
      "response": "Full response returned"
    },
    {
      "from": "Cache Valid",
      "requisite": "Receive conditional request",
      "to": "Cache Valid",
      "actions": [
        "Use cache entry"
      ],
      "response": "Return cached response"
    },
    {
      "from": "Client",
      "requisite": "Connect to Proxy",
      "to": "Proxy",
      "actions": [
        "Send RTSP request"
      ],
      "response": "Proxy responds with 470 or 407"
    },
    {
      "from": "Proxy",
      "requisite": "Check Accept-Credentials",
      "to": "Server",
      "actions": [
        "Forward RTSP request"
      ],
      "response": "Server processes request"
    },
    {
      "from": "Proxy",
      "requisite": "Reject Accept-Credentials",
      "to": "Client",
      "actions": [
        "Send 471 response"
      ],
      "response": "Connection Credentials Not Accepted"
    },
    {
      "from": "RTP/AVP/UDP",
      "requisite": "client sends SETUP request",
      "to": "RTP/AVPF/UDP",
      "actions": [
        "negotiate AVPF"
      ],
      "response": "AVPF profile accepted"
    },
    {
      "from": "RTP/AVP/UDP",
      "requisite": "client sends SETUP request with SAVP",
      "to": "RTP/SAVP/UDP",
      "actions": [
        "negotiate SAVP"
      ],
      "response": "SAVP profile accepted"
    },
    {
      "from": "RTP/AVP/UDP",
      "requisite": "client sends SETUP request with SAVPF",
      "to": "RTP/SAVPF/UDP",
      "actions": [
        "negotiate SAVPF"
      ],
      "response": "SAVPF profile accepted"
    },
    {
      "from": "RTP over TCP",
      "requisite": "client sends SETUP request for RTP/AVP/TCP",
      "to": "Interleaved RTP over TCP",
      "actions": [
        "establish TCP connection"
      ],
      "response": "TCP connection established"
    },
    {
      "from": "RTP over TCP",
      "requisite": "client sends SETUP request for RTP/AVP/TCP without interleaved",
      "to": "RTP over Independent TCP",
      "actions": [
        "establish independent TCP connections"
      ],
      "response": "Independent TCP connections established"
    },
    {
      "from": "Aggregate Control Available",
      "requisite": "Client requests media description",
      "to": "RTSP External SDP Delivery",
      "actions": [
        "Provide absolute URIs",
        "Include session availability information"
      ],
      "response": "SDP delivered with aggregate control"
    },
    {
      "from": "Aggregate Control Not Available",
      "requisite": "Client requests media description",
      "to": "RTSP External SDP Delivery",
      "actions": [
        "Provide individual control URIs"
      ],
      "response": "SDP delivered without aggregate control"
    }
  ]
}